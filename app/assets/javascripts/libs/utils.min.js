var utils=function(){try{return{isNode:function(b){return"object"==typeof Node?b instanceof Node:b&&"object"==typeof b&&"number"==typeof b.nodeType&&"string"==typeof b.nodeName},isElement:function(b){return"object"==typeof HTMLElement?b instanceof HTMLElement:b&&"object"==typeof b&&null!==b&&1===b.nodeType&&"string"==typeof b.nodeName},client:function(){var b={ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:null},c={ie:0,firefox:0,safari:0,konq:0,opera:0,chrome:0,safari:0,ver:null},d={win:!1,mac:!1,x11:!1,iphone:!1,ipod:!1,nokiaN:!1,winMobile:!1,macMobile:!1,wii:!1,ps:!1},e=navigator.userAgent;if(window.opera)b.ver=c.ver=window.opera.version(),b.opera=c.opera=parseFloat(b.ver);else if(/AppleWebKit\/(\S+)/.test(e))if(b.ver=RegExp.$1,b.webkit=parseFloat(b.ver),/Chrome\/(\S+)/.test(e))c.ver=RegExp.$1,c.chrome=parseFloat(c.ver);else if(/Version\/(\S+)/.test(e))c.ver=RegExp.$1,c.safari=parseFloat(c.ver);else{var f=1;f=b.webkit<100?1:b.webkit<312?1.2:b.webkit<412?1.3:2,c.safari=c.ver=f}else/KHTML\/(\S+)/.test(e)||/Konqueror\/([^;]+)/.test(e)?(b.ver=c.ver=RegExp.$1,b.khtml=c.konq=parseFloat(b.ver)):/rv:([^\)]+)\) Gecko\/\d{8}/.test(e)?(b.ver=RegExp.$1,b.gecko=parseFloat(b.ver),/Firefox\/(\S+)/.test(e)&&(c.ver=RegExp.$1,c.firefox=parseFloat(c.ver))):/MSIE ([^;]+)/.test(e)&&(b.ver=c.ver=RegExp.$1,b.ie=c.ie=parseFloat(b.ver));c.ie=b.ie,c.opera=b.opera;var g=navigator.platform;if(d.win=0==g.indexOf("Win"),d.mac=0==g.indexOf("Mac"),d.x11="X11"==g||0==g.indexOf("Linux"),d.win&&/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(e))if("NT"==RegExp.$1)switch(RegExp.$2){case"5.0":d.win="2000";break;case"5.1":d.win="XP";break;case"6.0":d.win="Vista";break;default:d.win="NT"}else"9x"==RegExp.$1?d.win="ME":d.win=RegExp.$1;return d.iphone=e.indexOf("iPhone")>-1,d.ipod=e.indexOf("iPod")>-1,d.nokiaN=e.indexOf("NokiaN")>-1,d.winMobile="CE"==d.win,d.macMobile=d.iphone||d.ipod,d.wii=e.indexOf("Wii")>-1,d.ps=/playstation/i.test(e),{engine:b,browser:c,system:d}},assignAttribute:function(b,c,d){if(!this.isElement(b)||"string"!=typeof c||"string"!=typeof d)throw new Error("Called function: "+arguments.callee.name);var e=document.createAttribute(c);e.value=d,b.setAttributeNode(e)},contains:function(b,c){if("function"==typeof b.contains&&(!this.client().engine.webkit||this.client().engine.webkit>=522))return b.contains(c);if("function"==typeof b.compareDocumentPosition)return!!(16&b.compareDocumentPosition(c));var d=c.parentNode;do{if(d===b)return!0;d=d.parentNode}while(null!==d);return!1},outputAttributes:function(b){for(var c=new Array,d=0,e=b.attributes.length;d<e;d++){var f=b.attributes[d].nodeName,g=b.attributes[d].nodeValue;c.push(f+'="'+g+'"')}return c.join(" ")},countChildren:function(b){if(this.isElement(b))return b.childNodes.length;throw new Error("Called function: "+arguments.callee.name)},getInnerText:function(b){if(this.isElement(b))return"string"==typeof element.textContent?element.textContent:element.innerText;throw new Error("Called function: "+arguments.callee.name)},setInnerText:function(b,c){if(!this.isElement(b)||"string"!=typeof c)throw new Error("Called function: "+arguments.callee.name);"string"==typeof element.textContent?element.textContent=c:element.innerText=c},getElementLeft:function(b){if(this.isElement(b)){for(var c=b.offsetLeft,d=b.offsetParent;null!==d;)c+=d.offsetLeft,d=d.offsetParent;return c}throw new Error("Called function: "+arguments.callee.name)},getElementTop:function(b){if(this.isElement(b)){for(var c=b.offsetTop,d=b.offsetParent;null!==d;)c+=d.offsetTop,d=d.offsetParent;return c}throw new Error("Called function: "+arguments.callee.name)},getBoundingClientRect:function(b){if(this.isElement(b)){var c=document.documentElement.scrollTop,d=document.documentElement.scrollLeft;if(b.getBoundingClientRect){if("number"!=typeof arguments.callee.offset){var e=document.createElement("div");e.style.cssText="position:absolute;left:0;top:0;",document.body.appendChild(e),arguments.callee.offset=-e.getBoundingClientRect().top-c,document.body.removeChild(e),e=null}var f=b.getBoundingClientRect(),g=arguments.callee.offset;return{left:f.left+g,right:f.right+g,top:f.top+g,bottom:f.bottom+g}}var h=this.getElementLeft(element),i=this.getElementTop(element);return{left:h-d,right:h+element.offsetWidth-d,top:i-c,bottom:i+element.offsetHeight-c}}throw new Error("Called function: "+arguments.callee.name)},serialize:function(b){if(this.isElement(b)){for(var c=new Array,d=null,e=0,f=b.elements.length;e<f;e++)switch(d=b.elements[e],d.type){case"select-one":case"select-multiple":for(var g=0,h=d.options.length;g<h;g++){var i=d.options[g];if(i.selected){var j="";j=i.hasAttribute?i.hasAttribute("value")?i.value:i.text:i.attributes.value.specified?i.value:i.text,c.push(encodeURIComponent(d.name)+"="+encodeURIComponent(j))}}break;case void 0:case"file":case"submit":case"reset":case"button":break;case"radio":case"checkbox":if(!d.checked)break;default:c.push(encodeURIComponent(d.name)+"="+encodeURIComponent(d.value))}return c.join("&")}throw new Error("Called function: "+arguments.callee.name)},getSelectedText:function a(b){if(!this.isElement(b))throw new Error("Called function: "+arguments.callee.name);var a=function(a){return document.selection?document.selection.createRange().text:a.value.substring(a.selectionStart,a.selectionEnd)};_mpEventUtil.addHandler(window,"load",function(c){_mpEventUtil.addHandler(b,"select",function(c){alert(a(b))}),b.focus()})},addQueryStringArg:function(b,c,d){b+=b.indexOf("?")==-1?"?":"&",b+=encodeURIComponent(c)+"="+encodeURIComponent(d),window.location.href=b},testWindowPosition:function(a,b){if(!(void 0===a||void 0===b&&b.length>0)){var c,d=myApp.debounce(function(){for(var a=0;a<=b.length;a++)c!==a&&window.pageYOffset>=b[a]&&window.pageYOffset<b[a+1]&&(c=a)},50);$(window).scroll(function(){d()})}},getAbsoluteUrl:function(a){var b;return b=document.createElement("a"),b.href=a,b.href},moveElement:function(a,b){if("object"==typeof a||"object"==typeof b){var c=a.clone();a.remove(),b.append(c)}},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},getCurrentUrl:function(){return window.location.origin+window.location.pathname},getParameterByName:function(a){if(void 0!==a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null===d?null:decodeURIComponent(d[1].replace(/\+/g," "))}return null},addElementLoadListener:function(a,b){a&&utils.isElement(a[0])&&$.isFunction(b)&&$(a).load(function(){b(a)})},addImageFileLoadListener:function(a,b){a&&"string"==typeof a&&$.isFunction(b)&&$("<img/>").attr("src",a).load(function(){b(),$(this).remove()})}}}catch(a){console.error("Error: ",a.message)}}();